# 百家樂預測系統

一個專業的百家樂預測網站，具備用戶管理、許可證系統和AI預測功能。

## 功能特色

### 🎯 核心功能
- **智能預測算法**：基於牌色模式和歷史趨勢的專業預測
- **互動式牌色選擇器**：直觀的5張牌顏色選擇界面
- **實時結果確認**：支援預測結果驗證和準確率統計
- **預測歷史記錄**：完整的預測記錄和統計分析

### 🔐 用戶系統
- **安全登入註冊**：JWT令牌認證
- **許可證管理**：基於金鑰的用戶權限控制
- **用戶權限分級**：管理員和普通用戶角色

### 🛠 管理後台
- **用戶管理**：用戶狀態控制、許可證延長
- **金鑰生成**：批量生成許可證金鑰
- **系統統計**：用戶活躍度、預測準確率等數據

### 🎨 界面設計
- **響應式設計**：支援桌面和移動設備
- **現代化UI**：優雅的視覺設計和動畫效果
- **用戶體驗**：直觀的操作流程和即時反饋

## 技術架構

### 前端技術
- **HTML5 + CSS3**：現代化的網頁標準
- **JavaScript ES6+**：原生JavaScript，無框架依賴
- **響應式設計**：適配各種設備尺寸
- **CSS動畫**：流暢的用戶界面動效

### 後端技術
- **Node.js + Express**：高性能Web服務器
- **SQLite**：輕量級資料庫
- **JWT認證**：安全的用戶身份驗證
- **bcryptjs**：密碼加密

### 安全特性
- **密碼加密**：bcrypt雜湊算法
- **JWT令牌**：無狀態身份驗證
- **請求限制**：防止API濫用
- **XSS防護**：內容安全策略

## 安裝部署

### 環境要求
- Node.js 14.0+
- npm 6.0+

### 安裝步驟

1. **安裝依賴**
   ```bash
   npm install
   ```

2. **初始化資料庫**
   ```bash
   npm run init-db
   ```

3. **啟動服務**
   ```bash
   # 開發模式
   npm run dev
   
   # 生產模式
   npm start
   ```

4. **訪問系統**
   - 網站地址：http://localhost:3000
   - 管理員帳戶：admin / admin123

## 使用指南

### 普通用戶
1. **註冊帳戶**：使用有效的許可證金鑰註冊
2. **選擇牌色**：在預測頁面選擇5張牌的顏色
3. **獲取預測**：系統生成預測結果和機率分析
4. **確認結果**：輸入實際遊戲結果驗證預測準確性

### 管理員
1. **系統監控**：查看用戶統計和系統性能
2. **用戶管理**：管理用戶狀態和許可證
3. **金鑰生成**：批量生成許可證金鑰
4. **數據分析**：查看預測準確率和使用統計

## 預測算法

### 核心原理
- **牌色分析**：紅牌傾向莊家，黑牌傾向閒家
- **模式識別**：連續模式、交替模式檢測
- **趨勢分析**：基於歷史20局的趨勢判斷
- **機率計算**：多因素加權機率模型

### 預測因素
- 當前牌色分佈
- 歷史勝負模式
- 連續性趨勢
- 統計學機率

## 項目結構

```
├── public/              # 靜態資源
│   ├── css/            # 樣式檔案
│   └── js/             # 前端腳本
├── views/              # HTML頁面
├── server/             # 後端代碼
│   ├── routes/         # API路由
│   ├── app.js          # 主應用程式
│   └── initDatabase.js # 資料庫初始化
├── database/           # 資料庫檔案
├── package.json        # 項目配置
└── README.md          # 說明文件
```

## API接口

### 認證相關
- `POST /api/auth/login` - 用戶登入
- `POST /api/auth/register` - 用戶註冊
- `POST /api/auth/verify` - 驗證令牌

### 預測相關
- `POST /api/prediction/predict` - 生成預測
- `PUT /api/prediction/predict/:id/confirm` - 確認結果
- `GET /api/prediction/history` - 預測歷史
- `GET /api/prediction/stats` - 預測統計

### 管理相關
- `GET /api/admin/users` - 獲取用戶列表
- `PUT /api/admin/users/:id/toggle` - 切換用戶狀態
- `POST /api/admin/license/generate` - 生成許可證
- `GET /api/admin/stats` - 系統統計

## 開發說明

### 開發環境
```bash
# 安裝nodemon用於自動重啟
npm install -g nodemon

# 開發模式啟動
npm run dev
```

### 資料庫結構
- `users` - 用戶信息
- `license_keys` - 許可證金鑰
- `predictions` - 預測記錄
- `game_history` - 遊戲歷史
- `system_settings` - 系統設定

### 自定義配置
- JWT密鑰：環境變數 `JWT_SECRET`
- 端口設定：環境變數 `PORT`
- 資料庫路徑：`database/baccarat.db`

## 許可證說明

本項目僅供學習和研究使用。請遵守當地法律法規，不得用於實際賭博活動。

## 技術支援

如有技術問題或建議，請通過以下方式聯繫：
- 檢查控制台錯誤信息
- 查看伺服器日誌
- 確認網路連接狀態

## 更新日誌

### v1.0.0
- 初始版本發布
- 完整的用戶系統
- 預測功能實現
- 管理後台
- 響應式設計

---

© 2024 百家樂預測系統. All rights reserved.